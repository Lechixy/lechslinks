<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lechixy | color</title>
    <link rel="stylesheet" href="other/color.css">
    <link rel="shortcut icon" type="image/jpg" href="/favicon.jpg">
</head>

<body>

    <div class="main">
        <h1 id="colour">#590353</h1>
        <button type="button" id="change" onclick="setColor();">New Color!</button>

        <h4 id="last">Last Color: Not available</h4>
    </div>

    <script>
        const btn = document.getElementById('change')
        const text = document.getElementById('colour')
        const last = document.getElementById('last')
        let historyArray = []
        const first = setColor()
        last.textContent = `Previous Color: ${first}`

        function randomHexCode() {
            var chars = "0123456789abcdef"
            var length = 6
            var color = ""

            for (var i = 0; i < length; i++) {
                var randomized = Math.floor(Math.random() * chars.length)
                color += chars.substring(randomized, randomized + 1)
            }

            return `#${color}`;
        }

        function setColor(first) {

            const color = randomHexCode()
            historyArray.push(color)
            console.log(`${historyArray.length-1} queue number is equals to ${color} color!`)

            text.textContent = color
            document.body.style.background = color;
            btn.style.color = color;

            if (historyArray[historyArray.length - 1] === color) {
                last.textContent = `Previous Color: ${historyArray[historyArray.length-2]}`
            }

            return color;
        }
    </script>

</body>

</html>